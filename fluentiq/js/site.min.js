function hasGetUserMedia(){return!!(navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia)}var AudioPlayer=function(a){this.percent=0,this.state=0,this.ready=0;var b=a.querySelectorAll(".control"),c=a.querySelector(".play"),d=a.querySelector(".pause"),e=a.querySelector("audio"),f=a.querySelector("progress"),g=a.querySelector(".curTime"),h=a.querySelector(".remainTime");e.controls=!1,a.classList.remove("no-js");var j=function(){h.textContent=secondsToTimestamp(e.duration),k.ready=1},k=this;for(this.onToggleState=function(){k.ready&&(k.state?k.stop():k.play(),c.classList.toggle("hide"),d.classList.toggle("hide"))},this.onTimeUpdate=function(){this.percent=Math.round(e.currentTime/e.duration*100),f.value=this.percent,f.textContent=this.percent+"%",g.textContent=secondsToTimestamp(e.currentTime);var a=e.duration-e.currentTime;h.textContent=secondsToTimestamp(a,"ceil")},this.play=function(){e.play(),this.state=1},this.pause=function(){e.pause(),this.state=0},this.stop=function(){this.pause(),e.currentTime=0},e.addEventListener("loadedmetadata",j),i=0;i<b.length;i++)b[i].addEventListener("click",this.onToggleState);e.addEventListener("timeupdate",this.onTimeUpdate),e.addEventListener("ended",this.onToggleState)},secondsToTimestamp=function(a){var b=Math.floor(a/60),c=Math.floor(a%60),d=10>c?"0":"";return b+":"+d+c},htmlPlayers=document.querySelectorAll(".player"),players=[];for(i=0;i<htmlPlayers.length;i++)players.push(new AudioPlayer(htmlPlayers[i]));hasGetUserMedia()?navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia:alert("getUserMedia() is not supported in your browser");
//# sourceMappingURL=site.min.js.map